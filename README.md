# Сервис авторизации

---
Сервис предоставляет возможность авторизировать клиента по JWT токену.

#### Почему я решил написать этот проект?
1. Чтобы на примере разобраться с принципами SOLID
2. Закрепить опыт работы с typescript
3. Закрепить опыт реализации системы авторизации

#### Что используется?
1. nodejs
2. typescript
3. mongodb

## Функционал
1. Регистрация
2. Вход
3. Восстановление доступа

### Подробно про функционал
#### 1. Регистрация
Пользователь отправляет имя, почту и пароль.
Сервер проверяет данные на соблюдение правил и существует ли уже пользователь с такой почтой.
Далее он создает запись в БД с данными пользователя и запись в БД с его хешированным паролем.

#### 2. Вход
Пользователь отправляет почту и пароль.
Сервер проверяет проверяет, нет ли токена в куках запроса, сравнивает хеш полученного пароля с хешем пароля в БД.
Далее генерирует JWT токен и возращает публичные данные о пользователе + сохраняет токен в куки.

#### 3. Восстановление доступа
Пользователь отправляет почту.
Сервер проверяет существует ли пользователь с этой почтой. 
Создает токен восстановления.
Отправляет на почту письмо с ссылкой, в которой есть токен.
Пользователь отправляет запрос по этой ссылке с новым паролем.
Замена в базе хеша старого пароля на хеш нового.
